.flex.justify-between.items-center.mb-8
  %h1.text-3xl.font-bold.text-brown-black Orders
  = link_to "New Order", new_admin_order_path, class: "bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition-colors"

/ Filters
.bg-white.rounded-lg.shadow-md.p-4.mb-6
  = form_with url: admin_orders_path, method: :get, local: true, class: "flex flex-wrap gap-4 items-end" do |form|
    %div
      %label.block.text-sm.font-medium.text-gray-700.mb-1 Status
      = form.select :status, options_for_select([["All", ""], ["Pending", "pending"], ["Paid", "paid"], ["Shipped", "shipped"], ["Delivered", "delivered"], ["Cancelled", "cancelled"]], params[:status]), {}, { class: "px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" }
    %div
      = form.submit "Filter", class: "bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition-colors"

/ Orders Table
.bg-white.rounded-lg.shadow-md.overflow-hidden
  %table.min-w-full.divide-y.divide-gray-200
    %thead.bg-gray-50
      %tr
        %th.px-6.py-3.text-left.text-xs.font-medium.text-gray-500.uppercase.tracking-wider Order ID
        %th.px-6.py-3.text-left.text-xs.font-medium.text-gray-500.uppercase.tracking-wider Customer
        %th.px-6.py-3.text-left.text-xs.font-medium.text-gray-500.uppercase.tracking-wider Date
        %th.px-6.py-3.text-left.text-xs.font-medium.text-gray-500.uppercase.tracking-wider Items
        %th.px-6.py-3.text-left.text-xs.font-medium.text-gray-500.uppercase.tracking-wider Total
        %th.px-6.py-3.text-left.text-xs.font-medium.text-gray-500.uppercase.tracking-wider Status
        %th.px-6.py-3.text-left.text-xs.font-medium.text-gray-500.uppercase.tracking-wider Actions
    %tbody.bg-white.divide-y.divide-gray-200
      - if @orders.any?
        - @orders.each do |order|
          %tr.hover:bg-gray-50
            %td.px-6.py-4.whitespace-nowrap.text-sm.font-medium.text-brown-black
              = link_to "##{order.id}", admin_order_path(order), class: "text-amber-600 hover:text-amber-700"
            %td.px-6.py-4.whitespace-nowrap.text-sm.text-gray-900= order.user.email
            %td.px-6.py-4.whitespace-nowrap.text-sm.text-gray-500= order.created_at.strftime("%b %d, %Y")
            %td.px-6.py-4.whitespace-nowrap.text-sm.text-gray-500= order.order_items.sum(:quantity)
            %td.px-6.py-4.whitespace-nowrap.text-sm.font-semibold.text-green-600 $#{order.total}
            %td.px-6.py-4.whitespace-nowrap
              %span.inline-flex.px-2.py-1.text-xs.font-semibold.rounded-full{class: order_status_class(order.status)}= order.status.capitalize
            %td.px-6.py-4.whitespace-nowrap.text-sm.font-medium
              = link_to "View", admin_order_path(order), class: "text-amber-600 hover:text-amber-700 mr-3"
              = link_to "Edit", edit_admin_order_path(order), class: "text-blue-600 hover:text-blue-700 mr-3"
              = link_to "Delete", admin_order_path(order), method: :delete, data: { turbo_confirm: "Are you sure?" }, class: "text-red-600 hover:text-red-700"
      - else
        %tr
          %td.colspan-7.px-6.py-8.text-center.text-gray-500 No orders found
